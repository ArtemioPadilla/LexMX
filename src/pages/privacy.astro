---
import BaseLayout from '../components/layout/BaseLayout.astro';

// Use a stable date format to avoid hydration mismatches
const lastUpdatedDate = new Date('2024-01-15');
const lastUpdated = `${lastUpdatedDate.getDate()} de enero de ${lastUpdatedDate.getFullYear()}`;
---

<BaseLayout title="Política de Privacidad - LexMX">
  <main class="min-h-screen bg-white dark:bg-gray-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-8">
        Política de Privacidad
      </h1>
      
      <div class="prose prose-lg dark:prose-invert max-w-none">
        <p class="text-gray-600 dark:text-gray-300 mb-6">
          <strong>Última actualización:</strong> {lastUpdated}
        </p>

        <div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 mb-8">
          <h2 class="text-xl font-semibold text-green-900 dark:text-green-100 mb-3">
            Tu privacidad es nuestra prioridad
          </h2>
          <p class="text-green-800 dark:text-green-200">
            LexMX opera completamente en tu navegador. <strong>No recopilamos, almacenamos ni procesamos ningún dato personal en servidores externos.</strong> 
            Tus consultas legales, tokens de API y preferencias permanecen exclusivamente en tu dispositivo.
          </p>
        </div>

        <section class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            1. Información que NO recopilamos
          </h2>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            A diferencia de la mayoría de servicios en línea, LexMX no recopila:
          </p>
          <ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-300">
            <li>Información personal identificable (nombre, email, teléfono)</li>
            <li>Direcciones IP o información de ubicación</li>
            <li>Historial de consultas o búsquedas</li>
            <li>Cookies de seguimiento o analytics</li>
            <li>Datos de uso o comportamiento</li>
            <li>Tokens de API o credenciales</li>
          </ul>
        </section>

        <section class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            2. Almacenamiento local
          </h2>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            LexMX utiliza almacenamiento local del navegador para mejorar tu experiencia:
          </p>
          <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6 space-y-4">
            <div>
              <h3 class="font-semibold text-gray-900 dark:text-white mb-2">LocalStorage</h3>
              <p class="text-gray-600 dark:text-gray-300">
                Guarda tus preferencias (tema, idioma) y configuraciones de proveedores de IA.
              </p>
            </div>
            <div>
              <h3 class="font-semibold text-gray-900 dark:text-white mb-2">SessionStorage</h3>
              <p class="text-gray-600 dark:text-gray-300">
                Almacena temporalmente tokens de API encriptados durante tu sesión.
              </p>
            </div>
            <div>
              <h3 class="font-semibold text-gray-900 dark:text-white mb-2">IndexedDB</h3>
              <p class="text-gray-600 dark:text-gray-300">
                Contiene el corpus legal y vectores para búsqueda offline.
              </p>
            </div>
          </div>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-4">
            Puedes limpiar todos estos datos en cualquier momento desde la configuración de tu navegador.
          </p>
        </section>

        <section class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            3. Seguridad
          </h2>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Implementamos múltiples capas de seguridad:
          </p>
          <ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-300">
            <li><strong>Encriptación AES-256:</strong> Todos los tokens de API se encriptan antes de almacenarse</li>
            <li><strong>Browser Fingerprinting:</strong> Los tokens se vinculan a tu dispositivo específico</li>
            <li><strong>No hay transmisión:</strong> Los datos sensibles nunca salen de tu navegador</li>
            <li><strong>Código abierto:</strong> Puedes auditar nuestro código en GitHub</li>
          </ul>
        </section>

        <section class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            4. Proveedores de IA terceros
          </h2>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Cuando usas LexMX con proveedores de IA (OpenAI, Claude, Gemini), tus consultas se envían directamente 
            desde tu navegador a estos servicios. LexMX nunca actúa como intermediario.
          </p>
          <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4">
            <p class="text-yellow-800 dark:text-yellow-200">
              <strong>Importante:</strong> Cada proveedor tiene su propia política de privacidad. 
              Te recomendamos revisarlas antes de usar sus servicios.
            </p>
          </div>
        </section>

        <section class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            5. GitHub Pages
          </h2>
          <p class="text-gray-600 dark:text-gray-300">
            LexMX está hospedado en GitHub Pages, que puede recopilar información técnica básica 
            como direcciones IP y user agents para prevenir abuso. Esta información no es accesible 
            para nosotros. Consulta la 
            <a href="https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement" 
               target="_blank" 
               rel="noopener noreferrer"
               class="text-legal-600 dark:text-legal-400 hover:underline">
              política de privacidad de GitHub
            </a> para más detalles.
          </p>
        </section>

        <section class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            6. Cumplimiento legal
          </h2>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            LexMX cumple con:
          </p>
          <ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-300">
            <li><strong>LFPDPPP:</strong> Ley Federal de Protección de Datos Personales en Posesión de los Particulares (México)</li>
            <li><strong>GDPR:</strong> Reglamento General de Protección de Datos (Unión Europea)</li>
            <li><strong>CCPA:</strong> Ley de Privacidad del Consumidor de California</li>
          </ul>
        </section>

        <section class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            7. Tus derechos
          </h2>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Aunque no recopilamos datos personales, tienes derecho a:
          </p>
          <ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-300">
            <li>Limpiar todo el almacenamiento local en cualquier momento</li>
            <li>Usar LexMX sin proporcionar ninguna información personal</li>
            <li>Revisar nuestro código fuente para verificar nuestras prácticas</li>
            <li>Solicitar aclaraciones sobre esta política</li>
          </ul>
        </section>

        <section class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            8. Cambios a esta política
          </h2>
          <p class="text-gray-600 dark:text-gray-300">
            Podemos actualizar esta política ocasionalmente. Los cambios se publicarán en esta página 
            con la fecha de actualización. Como no recopilamos información de contacto, te recomendamos 
            revisar esta página periódicamente.
          </p>
        </section>

        <section class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
            9. Contacto
          </h2>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Si tienes preguntas sobre esta política de privacidad:
          </p>
          <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6">
            <p class="text-gray-600 dark:text-gray-300">
              <strong>GitHub Issues:</strong> 
              <a href="https://github.com/ArtemioPadilla/LexMX/issues" 
                 target="_blank"
                 rel="noopener noreferrer"
                 class="text-legal-600 dark:text-legal-400 hover:underline">
                github.com/ArtemioPadilla/LexMX/issues
              </a>
            </p>
          </div>
        </section>

        <div class="border-t border-gray-200 dark:border-gray-700 pt-8 mt-12">
          <p class="text-center text-gray-500 dark:text-gray-400">
            Esta política de privacidad es parte del compromiso de LexMX con la transparencia 
            y la protección de la privacidad de nuestros usuarios.
          </p>
        </div>
      </div>
    </div>
  </main>
</BaseLayout>